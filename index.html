<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SimuCivilisation - Phase 3</title>
    <style>
      :root {
        color-scheme: dark;
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      }
      body {
        margin: 0;
        background: #0f1115;
        color: #eef2ff;
      }
      .layout {
        display: grid;
        grid-template-columns: minmax(300px, 420px) 1fr;
        gap: 16px;
        padding: 16px;
      }
      .panel {
        background: #1b1f29;
        border: 1px solid #2a3140;
        border-radius: 8px;
        padding: 14px;
      }
      label, button, input { font-size: 14px; }
      input {
        width: 100%;
        margin: 6px 0 10px;
        padding: 8px;
        border-radius: 6px;
        border: 1px solid #3a455a;
        background: #10141c;
        color: #eef2ff;
      }
      button {
        width: 100%;
        padding: 10px;
        border: none;
        border-radius: 6px;
        background: #365cf5;
        color: white;
        cursor: pointer;
      }
      canvas {
        width: min(80vmin, 720px);
        height: min(80vmin, 720px);
        image-rendering: pixelated;
        border: 1px solid #2a3140;
        border-radius: 6px;
        background: #000;
      }
      ul {
        margin: 0;
        padding-left: 20px;
      }
      .ok { color: #6ce98e; }
      .ko { color: #ff7a7a; }
      .legend {
        display: grid;
        grid-template-columns: repeat(2, minmax(120px, 1fr));
        gap: 6px;
        margin-top: 8px;
        font-size: 13px;
      }
      .legend-item {
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .swatch {
        width: 14px;
        height: 14px;
        border-radius: 3px;
      }
      @media (max-width: 980px) {
        .layout {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <main class="layout">
      <section class="panel">
        <h1>SimuCivilisation - Phase 3</h1>
        <p>Monde procédural + agents + émergence simple de tribus coopératives.</p>

        <label for="seedInput">Seed (même seed = même monde)</label>
        <input id="seedInput" type="text" value="phase3-demo" />
        <button id="generateButton">Générer un nouveau monde</button>

        <h2>Population agents</h2>
        <p id="populationOutput">Population: 0 | Naissances tick: 0 | Morts tick: 0</p>


        <h2>Statistiques tribus</h2>
        <p id="tribeStatsOutput">Tribus: 0 | Taille moyenne: 0.00 | Dissoutes tick: 0</p>

        <h2>Tests moteur intégrés</h2>
        <ul id="testsOutput"></ul>

        <h2>Légende des biomes</h2>
        <div id="legend" class="legend"></div>
      </section>

      <section class="panel">
        <canvas id="worldCanvas" width="160" height="160"></canvas>
      </section>
    </main>

    <script type="module" src="./src/ui/main.js"></script>
  </body>
</html>
